<template>
  <div class="menu-drawer">
    <v-navigation-drawer
      v-model="drawer"
      location="left"
      temporary
      class="pt-4 px-4 nav-drawer"
      :width="windowWidth <= 767 ? windowWidth / 2 : 500"
    >
      <v-card-text
        class="px-0 d-flex justify-space-between text-center "
        style="font-size: 17px; font-weight: bold"
        >Menu
        <v-icon @click="drawer = false">mdi-close</v-icon>
      </v-card-text>
      <v-list>
        <v-list-item class="px-0" v-for="category in categories" :key="category.id" link>
          <v-list-item-title
            class="nav-link"
            @click="
              $router.push({ name: 'products-category', params: { category: category.route } })
            "
            style="font-size: 14px; line-height: 1.2"
            >{{ category.title }}</v-list-item-title
          >
        </v-list-item>
        <v-list-group>
          <template v-slot:activator="{ props }">
            <v-list-item v-bind="props" class="px-0">
              <v-list-item-title class="nav-link"> Language </v-list-item-title>
            </v-list-item>
          </template>
          <v-list-item class="nav-link">
            <v-list-item-title class="d-flex align-center ga-2">
              <svg
                height="20px"
                width="20px"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 473.68 473.68"
                xml:space="preserve"
                fill="#000000"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g>
                    <path
                      style="fill: #29337a"
                      d="M41.712,102.201c-15.273,22.168-26.88,47.059-33.918,73.812h107.734L41.712,102.201z"
                    ></path>
                    <path
                      style="fill: #29337a"
                      d="M170.511,9.48c-27.288,7.947-52.56,20.628-74.814,37.168l74.814,74.814V9.48z"
                    ></path>
                    <path
                      style="fill: #29337a"
                      d="M101.261,430.982c20.874,14.607,44.195,25.915,69.25,33.211v-102.45L101.261,430.982z"
                    ></path>
                    <path
                      style="fill: #29337a"
                      d="M10.512,306.771c7.831,25.366,19.831,48.899,35.167,69.833l69.833-69.833H10.512z"
                    ></path>
                  </g>
                  <g>
                    <path
                      style="fill: #ffffff"
                      d="M45.619,97.144c-1.324,1.81-2.629,3.206-3.908,5.501l73.816,73.812H7.793 c-1.746,6.205-3.171,13.418-4.345,20.284h141.776L45.619,97.144z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M95.767,427.074c1.802,1.343,3.654,2.621,5.493,3.908l69.25-69.242v102.45 c6.653,1.945,13.41,3.624,20.284,4.974V332.05L95.767,427.074z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M5.25,286.487c1.47,6.873,3.205,13.202,5.258,20.284h105.001l-69.833,69.833 c7.595,10.377,16.017,20.115,25.168,29.12L190.08,286.487H5.25L5.25,286.487z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M170.511,9.48v111.982l-74.815-74.81c-10.314,7.67-19.955,16.185-28.888,25.403l123.983,123.983 V4.506C183.921,5.820,177.120,7.547,170.511,9.48z"
                    ></path>
                  </g>
                  <g>
                    <polygon
                      style="fill: #d32030"
                      points="170.511,306.056 169.8,306.771 170.511,306.771 "
                    ></polygon>
                    <polygon
                      style="fill: #d32030"
                      points="190.084,286.487 190.794,286.487 190.794,285.773 "
                    ></polygon>
                    <polygon
                      style="fill: #d32030"
                      points="281.229,196.737 280.545,196.737 280.545,197.425 "
                    ></polygon>
                    <polygon
                      style="fill: #d32030"
                      points="171.21,176.457 170.511,175.754 170.511,176.457 "
                    ></polygon>
                    <polygon
                      style="fill: #d32030"
                      points="190.794,196.037 190.794,196.737 191.494,196.737 "
                    ></polygon>
                  </g>
                  <g>
                    <path
                      style="fill: #252f6c"
                      d="M300.825,411.720v53.091c25.381-7.105,49.045-18.305,70.211-32.897l-57.526-57.526 C308.913,390.583,307.231,398.933,300.825,411.720z"
                    ></path>
                    <path
                      style="fill: #252f6c"
                      d="M313.812,108.471l62.799-62.799C354.05,29.15,328.456,16.559,300.824,8.818v54.538 C308.21,78.146,308.831,89.384,313.812,108.471z"
                    ></path>
                    <path
                      style="fill: #252f6c"
                      d="M427.029,377.984c15.815-21.275,28.141-45.29,36.147-71.213h-107.36L427.029,377.984z"
                    ></path>
                    <path
                      style="fill: #252f6c"
                      d="M465.887,176.457c-7.188-27.318-19.143-52.676-34.898-75.192l-75.2,75.192H465.887z"
                    ></path>
                  </g>
                  <g>
                    <path
                      style="fill: #e7e7e7"
                      d="M327.638,290.5l16.275,16.275l77.903,77.903c1.769-2.214,3.526-4.42,5.217-6.69l-71.213-71.213 h107.36c2.046-6.638,3.784-13.41,5.25-20.284H329.16C328.932,289.367,327.911,287.203,327.638,290.5z"
                    ></path>
                    <path
                      style="fill: #e7e7e7"
                      d="M311.352,120.348l70.607-70.615c-1.769-1.372-3.541-2.737-5.348-4.061l-62.799,62.799 C314.463,110.954,310.746,117.805,311.352,120.348z"
                    ></path>
                    <path
                      style="fill: #e7e7e7"
                      d="M300.825,58.992V8.814c-6.205-1.862-13.41-3.44-20.284-4.727v24.476 C288.088,36.745,294.853,47.022,300.825,58.992z"
                    ></path>
                    <path
                      style="fill: #e7e7e7"
                      d="M326.041,196.737h144.195c-1.171-6.866-2.599-13.635-4.345-20.284H355.793l75.2-75.192 C423.6,90.7,415.384,80.768,406.409,71.565l-84.702,84.694C323.988,171.622,325.009,180.544,326.041,196.737z"
                    ></path>
                    <path
                      style="fill: #e7e7e7"
                      d="M310.088,371.002l60.952,60.959c10.138-6.982,19.685-14.753,28.593-23.189l-80.173-80.177 C316.901,343.423,313.865,357.745,310.088,371.002z"
                    ></path>
                    <path
                      style="fill: #e7e7e7"
                      d="M280.545,442.301v27.28c6.873-1.279,13.635-2.865,20.284-4.727v-53.091 C294.853,423.738,288.088,434.13,280.545,442.301z"
                    ></path>
                  </g>
                  <path
                    style="fill: #d71f28"
                    d="M321.707,156.259l84.694-84.694c-7.625-7.831-15.8-15.119-24.446-21.832l-66.55,66.561 C318.363,128.657,319.706,142.808,321.707,156.259z"
                  ></path>
                  <g>
                    <path
                      style="fill: #d32030"
                      d="M225.019,0.292C228.965,0.101,232.899,0,236.836,0C232.876,0,228.935,0.101,225.019,0.292z"
                    ></path>
                    <path
                      style="fill: #d32030"
                      d="M236.836,473.68c-3.938,0-7.872-0.108-11.81-0.299C228.942,473.579,232.876,473.68,236.836,473.68z"
                    ></path>
                    <path
                      style="fill: #d32030"
                      d="M236.836,473.68c14.943,0,29.535-1.447,43.708-4.099v-27.28 C268.103,455.786,253.549,473.68,236.836,473.68z"
                    ></path>
                  </g>
                  <g>
                    <path
                      style="fill: #d71f28"
                      d="M470.232,196.737H327.911c1.885,29.704,1.657,60.249-0.681,89.75h141.2 c3.418-16.017,5.25-32.613,5.25-49.203C473.68,223.120,472.461,209.784,470.232,196.737z"
                    ></path>
                    <path
                      style="fill: #d71f28"
                      d="M327.638,290.5c-1.316,13.994-5.901,24.898-8.182,38.099l80.173,80.173 c7.932-7.517,15.347-15.557,22.183-24.094l-77.9-77.907L327.638,290.5z"
                    ></path>
                  </g>
                  <path
                    style="fill: #d32030"
                    d="M280.545,30.324V4.091C266.376,1.447,251.784,0,236.836,0C253.549,0,268.103,16.843,280.545,30.324z"
                  ></path>
                  <g>
                    <path
                      style="fill: #29337a"
                      d="M300.825,422.007c6.406-12.834,11.899-27.609,16.499-43.757l-16.499-16.499V422.007z"
                    ></path>
                    <path
                      style="fill: #29337a"
                      d="M319.377,102.906c-4.989-19.087-11.166-36.439-18.552-51.229v69.773L319.377,102.906z"
                    ></path>
                  </g>
                  <g>
                    <path
                      style="fill: #ffffff"
                      d="M332.234,295.092c0.269-2.857,0.512-5.725,0.744-8.605h-9.349L332.234,295.092z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M300.825,121.451V51.674c-5.976-11.97-12.737-22.254-20.284-30.429v129.906l40.735-40.735 c-0.613-2.543-1.257-5.034-1.9-7.517L300.825,121.451z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M281.229,196.737h52.429c-1.028-16.192-2.666-32.123-4.944-47.482L281.229,196.737z"
                    ></path>
                    <path
                      style="fill: #ffffff"
                      d="M280.545,452.432c7.547-8.182,14.308-18.459,20.284-30.429v-60.256l16.499,16.499 c3.784-13.220,6.959-27.434,9.525-42.261l-46.307-46.304L280.545,452.432L280.545,452.432z"
                    ></path>
                  </g>
                  <path
                    style="fill: #e51d35"
                    d="M280.545,452.432V289.681l46.304,46.307c2.277-13.205,4.069-26.899,5.381-40.896l-8.605-8.605h9.349 c2.337-29.502,2.565-60.047,0.681-89.75h-52.429l47.482-47.482c-2.001-13.455-4.476-26.469-7.434-38.836l-40.728,40.735V21.248 C268.103,7.763,253.549,0,236.836,0c-3.938,0-7.872,0.101-11.817,0.292c-11.209,0.583-23.073,2.016-34.225,4.215v191.531 L66.808,72.055c-7.618,7.861-14.704,16.237-21.189,25.089l79.313,79.313l20.291,20.284H3.448C1.227,209.784,0,223.120,0,236.844 c0,17.034,1.84,33.626,5.25,49.203h184.834L70.847,405.724c7.808,7.67,16.121,14.813,24.921,21.349l95.023-95.023v137.116 c11.151,2.199,22.583,3.631,34.232,4.215c3.938,0.191,7.872,0.299,11.81,0.299C253.549,473.68,268.103,465.917,280.545,452.432z"
                  ></path>
                </g>
              </svg>
              English
            </v-list-item-title>
          </v-list-item>
          <v-list-item class="nav-link">
            <v-list-item-title class="d-flex align-center ga-2">
              <svg
                width="20px"
                height="20px"
                viewBox="0 0 64 64"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                aria-hidden="true"
                role="img"
                class="iconify iconify--emojione"
                preserveAspectRatio="xMidYMid meet"
                fill="#000000"
              >
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M32 2C18.9 2 7.8 10.4 3.7 22h56.6C56.2 10.4 45.1 2 32 2z"
                    fill="#ed4c5c"
                  ></path>
                  <path
                    d="M32 62c13.1 0 24.2-8.3 28.3-20H3.7C7.8 53.7 18.9 62 32 62z"
                    fill="#3e4347"
                  ></path>
                  <path
                    d="M3.7 22C2.6 25.1 2 28.5 2 32s.6 6.9 1.7 10h56.6c1.1-3.1 1.7-6.5 1.7-10s-.6-6.9-1.7-10H3.7z"
                    fill="#f9f9f9"
                  ></path>
                  <g fill="#ffffff">
                    <path
                      d="M30.6 25.1c.3-.2.5 0 .7.2c.1.2.1.8-.1 1.5c-.1.4-.4.8-.6 1.1c.4 0 .9-.1 1.4-.3c.5.2.9.3 1.4.3c-.2-.4-.4-1.2-.3-1.8c0-.9-.1-1.2-.3-1.4c-.2-.2-.7-.3-1-.3c-.2 0-.2.1-.2.1c-.4-.1-.7-.1-.9 0c-.2.2-.2.7-.1.6"
                    ></path>
                    <path
                      d="M37.3 28.1c-.2-1.1-1.3-.8-2.2-.3c-.4.2-.8.4-1.2.4h-.3c-.5 0-1.1-.1-1.6-.3c-.5.2-1.1.3-1.6.3h-.2c-.5 0-.9-.2-1.3-.5c-.8-.4-1.9-.7-2.2.3c.2-.1.4-.3.5-.3l-.4 9.6l.2-.2l.4-9.3c.1.1.5.5.6.5l-.3 8.1l.3-.3l.3-7.7c.1.1.4.3.5.4l-.3 6.7l.8-.7l.8-2.7c-.7-1.5-.6-2.8-.6-2.8h.2c.5 0 1.6-.3 2.1-.6c.1 0 .1-.1.2-.1c0 .1.1.1.2.2c.5.3 1.6.6 2.1.6h.2s.1 1.3-.6 2.8l.7 2.6l.8.7l-.3-6.6c.1-.1.3-.3.5-.4l.3 7.5l.3.3l-.3-8c.1-.1.5-.4.6-.5l.4 9.2l.2.2l-.4-9.5c.1.1.4.3.6.4"
                    ></path>
                    <path
                      d="M31.1 29.7v3.9s0 .1.1.1c.1.2.3.3.4.5l.3.3l.3-.3l.5-.5v-3.8c-.3-.1-.6-.2-.8-.4c-.1-.1-.4 0-.8.2"
                    ></path>
                  </g>
                  <path
                    d="M36.3 37.9c0-.5-.5-.5-.9-.4c-.1 0-.1 0-.2.1l-.6-2.2l3.3 3.2l-.4-10.4c-.1-1.6-1.4-1.2-2.3-.6c-.5.3-.9.5-1.4.5c-.7-1.2-.3-2.8-.8-3.2c-.2-.2-.9-.5-1.4-.5c-.3 0-.2.2-.2.2c-.5-.1-.9-.1-1.1.1c-.2.1 0 1.1.1.9c.3-.3.4-.2.6.1c.2.3-.2 1.5-.7 2.4c-.6 0-1.1-.2-1.6-.5c-1-.6-2.3-.9-2.3.6L26 38.5l3.3-3.1l-.6 2.1c-.1 0-.1 0-.2-.1c-.4-.1-.9-.1-.9.4c-.6-.1-.8.8-.2 1c0 .3 0 .5.4.5c.9.3 2.5.4 4.1.4s3.2-.1 4.1-.4c.4-.1.4-.3.4-.5c.8-.2.5-1.1-.1-.9m-5.1-4.3c0-.1 0-.1 0 0l-.1-.1v-3.8c.4-.1.7-.2.9-.4c.2.2.5.3.8.4v3.8c-.2.2-.3.4-.5.5l-.3.3l-.3-.3c-.2-.1-.3-.3-.5-.4m0-6.7c.2-.7.2-1.3.1-1.5c-.2-.2-.4-.4-.7-.2c-.1.1-.1-.4.1-.5c.2-.1.5-.1.9 0c0 0 0-.2.2-.1c.3 0 .9.2 1 .3c.1.1.3.5.3 1.4c0 .6.1 1.4.3 1.8c-.4 0-.9-.1-1.4-.3c-.5.2-.9.3-1.4.3c.2-.4.5-.8.6-1.2m-2.6 8.9l.3-6.7c-.1-.1-.3-.3-.5-.4l-.4 7.6l-.3.3l.3-8.1c-.1-.1-.5-.4-.6-.5l-.4 9.3l-.2.2l.4-9.6c-.1 0-.4.1-.5.3c.3-1 1.4-.7 2.2-.2c.4.3.9.4 1.3.5h.2c.5 0 1-.1 1.6-.3c.6.2 1.1.3 1.6.3h.3c.4-.1.8-.2 1.2-.4c.9-.5 2-.8 2.2.3c-.2-.1-.5-.3-.6-.3l.4 9.5l-.2-.2l-.4-9.4c-.1.1-.5.5-.6.5l.3 8l-.3-.3l-.3-7.5c-.1.1-.4.3-.5.4l.3 6.6l-.8-.7l-.7-2.6c.7-1.5.6-2.8.6-2.8h-.2c-.5 0-1.6-.2-2.1-.6c-.1 0-.1-.1-.2-.2c0 0-.1.1-.2.1c-.5.3-1.6.6-2.1.6h-.2s-.1 1.3.6 2.8l-.8 2.7l-.7.8m3.4 2h-1.1l.7-3.4c.1.1.2.2.4.3c.1-.1.3-.2.4-.3l.8 3.4H32"
                    fill="#c09300"
                  ></path>
                </g>
              </svg>
              Arabic
            </v-list-item-title>
          </v-list-item>
        </v-list-group>
      </v-list>
    </v-navigation-drawer>
  </div>
</template>

<script>
import { useProductStore } from "@/stores/useProductStore";
import { mapState } from "pinia";

export default {
  inject: ["Emitter"],
  data() {
    return {
      drawer: true,
    };
  },
  props: {
    windowWidth: {
      type: Number,
    },
  },
  computed: {
    ...mapState(useProductStore, ["categories"]),
  },
  mounted() {
    this.Emitter.on("openMenu", () => {
      this.drawer = !this.drawer;
      console.log("open");
    });
  },
};
</script>

<style lang="scss">
.menu-drawer {
  z-index: 9999;
}

@media (max-width: 767px) {
  .menu-drawer {
    .nav-drawer{
    .nav-link {
      font-size: 12px !important;
    }
  }
  }
}
</style>
